@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    @apply m-0 min-h-screen bg-brand text-brand flex justify-center items-start font-sans py-8 px-4;
  }

  h1,
  h2,
  h3,
  h4 {
    @apply font-heading text-brand;
  }
}

/* Componentes com visual alinhado ao design atual */
@layer components {
  .wrapper {
    @apply w-full max-w-[820px] mx-auto bg-white text-brand rounded-xl2 border border-[#f3d9c8] shadow-card px-16 py-12;
  }

  .card {
    @apply bg-white rounded-xl2 border border-orange-100 shadow-card p-8 text-brand;
  }

  .btn {
    @apply inline-flex items-center justify-center px-6 py-3 rounded-full font-semibold transition;
  }

  .btn-primary {
    @apply btn bg-brand text-white shadow hover:bg-brand-dark focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-light;
  }

  .btn-secondary {
    @apply btn border border-brand text-brand bg-white hover:bg-[#fff3eb];
  }

  /* Adiciona estilo para o botão secundário quando desabilitado */
  .btn-secondary:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .fieldset {
    @apply rounded-[28px] border border-[#cfbdaf] bg-[#a36a343d] p-8 text-[#5A4033] shadow-[inset_0_0_0_1px_rgba(255,255,255,0.5)];
    /*
    monitor AMOLED: border #f0d9c8  bg #fff5ec
    monitor LCD:  border #cfbdaf  bg #a36a343d
    */
  }

  .legend {
    @apply font-semibold text-brand;
  }

  .input {
    @apply block w-full rounded-xl border-neutral-400 focus:border-brand focus:ring-brand text-neutral-800 bg-white;
  }

  /* Utilitário (se já não vier do Tailwind) */
/* .hidden { display: none !important; } */

/* Estado final: some com tudo do fluxo e remova espaçamentos */
body.confirmado #etapas_processo,
body.confirmado .form-steps,
body.confirmado .form-navigation,
body.confirmado form {
  display: none !important;
  height: 0 !important;
  margin: 0 !important;
  padding: 0 !important;
  overflow: hidden !important;
}

/* Opcional: se quiser esconder o título também 
body.confirmado .hero {
  display: none !important;
  height: 0 !important;
  margin: 0 !important;
  padding: 0 !important;
}*/

/* Faça a área principal virar um container flex que centraliza a confirmação */
body.confirmado .main {
  display: flex !important;
  flex: 1 1 auto !important;
  min-height: 0 !important;
}

/* A tela de confirmação preenche e centraliza */
body.confirmado #tela_confirmacao {
  display: flex !important;
  flex: 1 1 auto !important;
  align-items: center !important;
  justify-content: center !important;
  padding: 0.01emrem !important;
  text-align: center !important;
}

/* Ajustes visuais da confirmação */
#tela_confirmacao .confirmacao-wrap {
  max-width: 600px;
  margin: 0 auto;
}
#tela_confirmacao .check-icon {
  width: 80px;
  height: 80px;
  display: inline-block;
  margin-top: 8px;
}


  /* Estilo da confirmação */
  .confirmacao {
    display: none;
    min-height: 60vh;
    align-items: center;
    justify-content: center;
    text-align: center;
    padding: 2rem;
  }
  .confirmacao-wrap { max-width: 600px; margin: 0 auto; }
  .check-icon { width: 80px; height: 80px; display: inline-block; margin-top: 8px; }


  /* Em styles.css */

  #valor_entrada::placeholder {
    color: #5A4033; /* Mesma cor do texto do fieldset */
    opacity: 0.7; /* Opacidade reduzida */
  }

  .radio-pill {
    @apply inline-flex items-center justify-center px-7 py-3 rounded-full border border-neutral-300 bg-white font-semibold text-neutral-800 cursor-pointer transition;
  }

  .radio-pill-checked {
    @apply bg-brand border-brand text-white shadow;
  }
  .step-dot { @apply h-1 w-14 rounded-full bg-orange-100; }
  .step-dot-complete { @apply h-1 w-14 rounded-full bg-brand; }
  .step-pill-active { @apply px-3 py-1 rounded-full bg-brand text-white text-sm font-semibold shadow; }
  .header {
    @apply flex flex-col items-center gap-3 mb-4 text-center;
  }

  .img_logo {
    @apply max-w-[220px] w-full h-auto mx-auto block;
  }

  .hero {
    @apply text-center mb-8;
  }

  #titulo_pagina {
    @apply text-[2rem] font-semibold text-brand tracking-[0.02em] m-0;
  }

  
  /* ------------------------------------------- */
  /* NO SEU ARQUIVO DE ESTILOS CUSTOMIZADO */
  /* ------------------------------------------- */
  #texto-confirmacao {
      font-size: 20px; 
      line-height: 1.6; 
      
      color: #F37521 !important; 
  }

  /* 2. O ÍCONE DE CHECK VAI USAR A MESMA ALTURA */
  .check-icon {
      /* 🎯 Use a mesma altura definida no item 1 */
      height: auto !important; 
      width: 90px !important; /* ESSENCIAL: Garante que a largura seja proporcional */
      display: block !important; 
      /* Regras de centralização */
      margin: 16px auto 0 !important;
  }

/* ======================================================================== */
/* INÍCIO DO CÓDIGO CORRIGIDO PARA AS ETAPAS                            */
/* ======================================================================== */

#etapas_processo {
  @apply mb-10 w-full flex flex-col items-center gap-3 text-center;
}

/* O contêiner que segura as 4 abas */
.step-tabs {
  @apply w-full max-w-[520px] flex justify-center items-center gap-4;
}

/* A base para CADA UMA das 4 abas (TAMANHO X) */
.step-tab {
  height: 44px;
  /* Define uma LARGURA FIXA de 99px, impedindo que o texto a alargue */
  flex: 0 0 70px; 
  @apply flex justify-center items-center text-center relative py-1 px-2 border-0 bg-transparent cursor-pointer;
  /* Anima a mudança de altura e largura */
  transition: flex-basis 0.4s ease, height 0.4s ease;
}

/* A aba ATIVA (TAMANHO Y) */
.step-tab.is-active {
  height: 50px;
  /* Define uma LARGURA FIXA e MAIOR de 109px para a aba ativa */
  flex: 0 0 129px; 
}

/* O texto (<span>) dentro de cada aba */
.step-tab span {
  @apply hidden;
}

/* O texto (<span>) dentro da aba ATIVA */
.step-tab.is-active span {
  @apply inline-block text-white text-sm font-semibold;
  position: relative;
  z-index: 1;
  line-height: 1.2; /* Bom para textos com quebra de linha */
}

/* O fundo de CADA aba (formato de barrinha) */
.step-tab::after {
  content: '';
  position: absolute;
  left: 0;
  right: 0;
  top: 50%;
  height: 6px;
  transform: translateY(-50%);
  border-radius: 999px;
  background-color: #F8E5DB;
  transition: all 0.3s ease;
  z-index: 0;
}

/* Cor laranja para abas ATIVAS ou COMPLETAS */
.step-tab.is-active::after,
.step-tab.is-complete::after {
  background-color: #F37521;
}

/* Expansão do fundo para a aba ATIVA (formato de pílula) */
.step-tab.is-active::after {
  top: 0;
  bottom: 0;
  height: auto;
  transform: none;
  /*box-shadow: 0 6px 18px rgba(243, 117, 33, 0.25);*/
}

/* Novo estado para abas que foram puladas, mas devem ser marcadas como concluídas */
.step-tab.is-skipped-complete::after {
  background-color: #F37521; /* Laranja */
}

/* Estilos de abas desabilitadas e de foco */
.step-tab:disabled {
  cursor: default;
}
.step-tab:focus-visible {
  outline: none;
}
.step-tab:focus-visible::after {
  box-shadow: 0 0 0 3px rgba(243, 117, 33, 0.35);
}

/* ======================================================================== */
/* FIM DO CÓDIGO CORRIGIDO                                              */
/* ======================================================================== */

.step-current-label {
    @apply mt-1.5 text-lg font-semibold text-white;
  }

  /* .step-current-label { display: none; } */


  .main {
    @apply flex flex-col;
  }

  .main form {
    @apply flex flex-col gap-8;
  }

  .form-steps {
    @apply flex flex-col gap-8;
  }

  .form-step {
    display: none;
  }

  .form-step.is-active {
    display: block;
  }

  .form-step.is-hidden-step {
    display: none !important;
  }

  fieldset label {
    @apply flex flex-col text-[0.95rem] gap-1.5 mt-4 text-[#333333] font-medium;
  }

  fieldset label:first-of-type {
    margin-top: 0;
  }

  .radio-label {
    @apply block mt-4 font-semibold text-[#333333];
  }

  .field-hint {
    @apply block text-sm text-[#5b3921] my-1.5;
  }

  .radio-options {
    @apply flex flex-wrap items-center justify-start gap-6 mt-4;
  }

  .fieldset-radio .radio-options {
    @apply justify-center gap-6;
  }

  .inline-option {
    @apply relative inline-flex items-center mt-0 p-0;
  }

  .inline-option input[type="radio"] {
    position: absolute;
    inset: 0;
    opacity: 0;
    margin: 0;
    cursor: pointer;
  }

  .inline-option span {
    @apply inline-flex items-center justify-center px-7 py-3 rounded-full border border-neutral-400 bg-white text-brand font-semibold tracking-[0.01em] transition duration-200;
  }

  .inline-option input[type="radio"]:checked + span {
    background-color: #F37521;
    border-color: #F37521;
    color: #ffffff;
  }

  .inline-option input[type="radio"]:focus-visible + span {
    box-shadow: 0 0 0 3px rgba(243, 117, 33, 0.35);
  }

  .inline-option input[type="radio"]:not(:checked) + span:hover {
    border-color: #dca77c;
    background-color: #fff3eb;
    color: #d86216;
  }

  .is-hidden,
  fieldset.is-hidden {
    display: none !important;
  }

  .form-navigation {
    @apply flex items-center justify-between gap-4 w-full;
  }

  .form-navigation .nav-button-group {
    @apply flex gap-3 ml-auto;
  }

  /* Em styles.css */

  /* Garante que este grupo específico fique sempre na horizontal e centralizado */
  .radio-options-horizontal {
    flex-direction: row !important;
    justify-content: center !important;
  }

  /* Deixa o texto dos botões Sim/Não preto por padrão */
  .radio-options-horizontal .radio-pill {
    color: black;
  }

  /* Em styles.css - Adicione esta nova regra */

  /* Sobrescreve a cor do texto para o estado checado (.radio-pill-checked) */
  /* Isso usa a mesma cor da classe 'text-brand' que define o título. */
  .radio-pill-checked {
      /* @apply é uma diretiva do Tailwind para aplicar utilitários dentro do CSS customizado. */
      /* Isso garante que a cor do texto seja a cor principal do seu site. */
      @apply text-brand;
  }

  /* Em styles.css - Adicione esta nova regra */

  /* Altera a cor do texto padrão (não-selecionado) APENAS nos botões Comprador/Vendedor */
  /* O seletor mira o span.radio-pill dentro da primeira etapa do formulário. */
  .form-steps .form-step[data-step="1"] .radio-pill {
      /* Aplica a cor da marca (text-brand) ao texto do botão, por padrão. */
      @apply text-brand;
  }

  .form-steps .form-step[data-step="1"] .radio-pill.radio-pill-checked { 
    @apply text-white; /* ESPECIFICIDADE MÁXIMA */
}

  #dados-venda {
    background-color: #f5f2f0; /* ou o mesmo fundo escuro que você já usa */
    border-radius: 1rem;
    /*padding: 1.5rem;*/
    position: relative;
  }

  #erro_dados_venda {
    animation: aparecerErro 0.3s ease;
  }

  @keyframes aparecerErro {
    from { opacity: 0; transform: translateY(-4px); }
    to { opacity: 1; transform: translateY(0); }
  }

  /* Força espaçamento maior entre os blocos da etapa "Dados da Venda" */
 /* src/styles.css */
  #dados_venda .grid > :nth-child(2) { margin-top: 1.5rem !important; } /* ~32px */







  /* No mobile, podemos diminuir um pouco os botões para garantir que caibam */
  @media (max-width: 480px) {
    .radio-options-horizontal .radio-pill {
      padding-left: 1.25rem; /* px-5 */
      padding-right: 1.25rem; /* px-5 */
    }
  }

  @media (max-width: 768px) {
    .step-tabs {
      max-width: 360px;
      padding: 0 10px;
      gap: 12px;
    }
  
  .step-tab {
    /* No mobile, trocamos a largura fixa por um modelo flexível */
    flex: 1 1 0%;
    /* Também podemos reduzir um pouco a altura para telas menores */
    height: 40px; 
  }

  .step-tab.is-active {
    /* A aba ativa cresce 1.5x mais que as outras para manter a proporção */
    flex: 1.5 1 0%;
    height: 44px; /* Altura um pouco maior para a ativa */
  }
  }

  @media (max-width: 600px) {
    .form-navigation {
      flex-direction: row;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
    }

    .form-navigation .nav-button-group {
      width: auto;
      margin-left: auto;
      justify-content: flex-end;
    }

    .radio-options {
      gap: 12px;
    }
  }

  @media (max-width: 480px) {
    .step-tabs {
      max-width: 300px;
      gap: 8px;
      padding: 0 6px;
    }

    .radio-options-horizontal .inline-option span {
      padding-left: 1.25rem;
      padding-right: 1.25rem;
      font-size: 0.875rem;
    }

    /* Esta única regra agora controla o empilhamento dos botões */
    .radio-options:not(.radio-options-horizontal) .inline-option {
      width: 100%;
    }
  }

  /* Em styles.css - adicione este novo bloco no final do arquivo */

  /* Em styles.css - adicione ou substitua este bloco no final do arquivo */

  @media (max-width: 400px) {
    /* Reduzimos o espaçamento entre as abas para economizar espaço */
    .step-tabs {
      gap: 8px;
    }

    /* Etapas INATIVAS: ficam bem pequenas */
    .step-tab {
      /* flex: grow shrink basis -> Não cresce, pode encolher, base de 40px */
      flex: 0 1 40px;
      height: 36px; /* Altura um pouco menor para economizar espaço vertical */
    }

    /* Etapa ATIVA: se expande para caber o texto */
    .step-tab.is-active {
      /* flex: grow shrink basis -> Pode crescer, não encolhe, largura automática */
      flex: 1 0 auto;
      height: 40px; /* Altura um pouco maior para destaque */
      /* Adicionamos padding para o texto não ficar colado nas bordas */
      padding-left: 16px;
      padding-right: 16px;
    }

    /* Força o texto da aba ativa a ficar em uma única linha */
    .step-tab.is-active span {
      white-space: nowrap;
    }
  }

  /* Em styles.css - adicione este novo bloco no final do arquivo */

  @media (max-width: 768px) {
    /* 1. Deixa os blocos de perguntas com cantos mais quadrados */
    .fieldset {
      border-radius: 0.75rem; /* Equivalente a 'rounded-xl' do Tailwind */
    }

    /* 2. Deixa os campos de resposta com cantos ainda mais quadrados */
    .input {
      border-radius: 0.5rem; /* Equivalente a 'rounded-lg' do Tailwind */
    }

    /* 3. Afeta APENAS os botões Sim/Não, deixando-os mais quadrados */
    #dados_cliente .inline-option span {
      border-radius: 0.75rem; /* Equivalente a 'rounded-xl' do Tailwind */
    }
  }

}




